<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SNSæŠ•ç¨¿ç”¨ é•·æ–‡åˆ†å‰²ï¼†è£…é£¾ãƒ„ãƒ¼ãƒ«</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb', // Blue-600
                        secondary: '#eff6ff', // Blue-50
                    }
                }
            }
        }
    </script>
    <style>
        /* ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ãªã©ã®å¾®èª¿æ•´ */
        body { font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif; }
        .font-btn:active { transform: scale(0.95); }
    </style>
</head>
<body class="bg-slate-50 text-slate-700 min-h-screen flex flex-col">

    <header class="bg-primary text-white py-4 shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <h1 class="text-lg md:text-xl font-bold flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                </svg>
                SNS Splitter & Decor
            </h1>
            <span class="text-xs bg-white/20 px-2 py-1 rounded">Ver 1.0</span>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-6 max-w-4xl">
        
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-4 mb-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-semibold text-slate-600 mb-2">åˆ†å‰²æ–‡å­—æ•°è¨­å®š</label>
                    <div class="flex items-center gap-2">
                        <input type="number" id="splitLimit" value="140" min="10" class="w-24 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-center font-mono">
                        <span class="text-sm text-slate-500">æ–‡å­—ã”ã¨ã«åˆ†å‰²</span>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-semibold text-slate-600 mb-2">ãƒ•ã‚©ãƒ³ãƒˆå¤‰æ› (è‹±æ•°å­—ã®ã¿)</label>
                    <div class="flex flex-wrap gap-2">
                        <button onclick="applyFont('sansBold')" class="font-btn text-xs px-3 py-2 bg-slate-100 border border-slate-300 rounded hover:bg-slate-200 transition">ğğ¨ğ¥ğ</button>
                        <button onclick="applyFont('serifBold')" class="font-btn text-xs px-3 py-2 bg-slate-100 border border-slate-300 rounded hover:bg-slate-200 transition">ğ-ğ’ğğ«ğ¢ğŸ</button>
                        <button onclick="applyFont('italic')" class="font-btn text-xs px-3 py-2 bg-slate-100 border border-slate-300 rounded hover:bg-slate-200 transition">ğ¼ğ‘¡ğ‘ğ‘™ğ‘–ğ‘</button>
                        <button onclick="applyFont('script')" class="font-btn text-xs px-3 py-2 bg-slate-100 border border-slate-300 rounded hover:bg-slate-200 transition">ğ’®ğ’¸ğ“‡ğ’¾ğ“…ğ“‰</button>
                        <button onclick="applyFont('typewriter')" class="font-btn text-xs px-3 py-2 bg-slate-100 border border-slate-300 rounded hover:bg-slate-200 transition">ğšƒğš¢ğš™ğš</button>
                        <button onclick="resetFont()" class="font-btn text-xs px-3 py-2 bg-red-50 text-red-600 border border-red-200 rounded hover:bg-red-100 transition">ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="mb-8">
            <div class="relative">
                <textarea id="inputText" class="w-full h-48 p-4 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-y shadow-inner text-base leading-relaxed" placeholder="ã“ã“ã«æŠ•ç¨¿ã—ãŸã„é•·æ–‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..."></textarea>
                <div class="absolute bottom-3 right-3 text-xs text-slate-400 bg-white/80 px-2 py-1 rounded">
                    ç¾åœ¨: <span id="charCount" class="font-mono font-bold text-primary">0</span> æ–‡å­—
                </div>
            </div>
        </section>

        <div class="flex justify-center mb-8">
            <button onclick="copyAll()" class="flex items-center gap-2 bg-slate-800 text-white px-6 py-3 rounded-full hover:bg-slate-900 shadow-lg hover:shadow-xl transition transform hover:-translate-y-0.5">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                </svg>
                ã™ã¹ã¦ã®åˆ†å‰²ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼
            </button>
        </div>

        <section>
            <h2 class="text-lg font-bold text-slate-700 mb-4 flex items-center gap-2">
                <span class="w-1 h-6 bg-primary rounded-full"></span>
                ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ & å€‹åˆ¥ã‚³ãƒ”ãƒ¼
            </h2>
            <div id="previewArea" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="col-span-1 md:col-span-2 text-center py-10 text-slate-400 bg-white rounded-xl border border-dashed border-slate-300">
                    ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã™ã‚‹ã¨ã€ã“ã“ã«åˆ†å‰²ã‚«ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-white border-t border-slate-200 mt-auto py-6 text-center text-sm text-slate-500">
        &copy; 2024 SNS Long Text Tool. Built with Tailwind CSS.
    </footer>

    <script>
        // DOMè¦ç´ ã®å–å¾—
        const inputText = document.getElementById('inputText');
        const splitLimit = document.getElementById('splitLimit');
        const previewArea = document.getElementById('previewArea');
        const charCount = document.getElementById('charCount');

        // çŠ¶æ…‹ç®¡ç†
        let originalText = "";

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š
        inputText.addEventListener('input', updateUI);
        splitLimit.addEventListener('input', updateUI);

        // UIæ›´æ–°é–¢æ•°
        function updateUI() {
            const text = inputText.value;
            const limit = parseInt(splitLimit.value) || 140;

            // æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆæ›´æ–°
            charCount.textContent = text.length;

            // ç©ºã®å ´åˆã¯ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚’è¡¨ç¤ºã—ã¦çµ‚äº†
            if (!text) {
                previewArea.innerHTML = `
                    <div class="col-span-1 md:col-span-2 text-center py-10 text-slate-400 bg-white rounded-xl border border-dashed border-slate-300">
                        ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã™ã‚‹ã¨ã€ã“ã“ã«åˆ†å‰²ã‚«ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
                    </div>`;
                return;
            }

            // åˆ†å‰²å‡¦ç†
            const chunks = splitText(text, limit);
            renderCards(chunks);
        }

        // ãƒ†ã‚­ã‚¹ãƒˆåˆ†å‰²ãƒ­ã‚¸ãƒƒã‚¯
        function splitText(text, limit) {
            const chunks = [];
            for (let i = 0; i < text.length; i += limit) {
                chunks.push(text.substring(i, i + limit));
            }
            return chunks;
        }

        // ã‚«ãƒ¼ãƒ‰ç”Ÿæˆãƒ»æç”»ãƒ­ã‚¸ãƒƒã‚¯
        function renderCards(chunks) {
            previewArea.innerHTML = '';
            const total = chunks.length;

            chunks.forEach((chunk, index) => {
                // é€£ç•ªã‚’ä»˜ä¸ (1/5) ã®å½¢å¼
                const numberedText = `${chunk}\n\n(${index + 1}/${total})`;
                
                const card = document.createElement('div');
                card.className = "bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col justify-between hover:shadow-md transition duration-200";
                
                card.innerHTML = `
                    <div class="mb-3 whitespace-pre-wrap font-sans text-sm leading-relaxed text-slate-700">${escapeHtml(numberedText)}</div>
                    <div class="flex justify-between items-center pt-3 border-t border-slate-100">
                        <span class="text-xs font-mono text-slate-400">${numberedText.length}æ–‡å­—</span>
                        <button onclick="copyToClipboard(this, \`${escapeJsString(numberedText)}\`)" class="flex items-center gap-1 text-sm bg-secondary text-primary px-3 py-1.5 rounded-lg hover:bg-blue-100 transition font-medium">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" />
                            </svg>
                            ã‚³ãƒ”ãƒ¼
                        </button>
                    </div>
                `;
                previewArea.appendChild(card);
            });
        }

        // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼å‡¦ç†
        async function copyToClipboard(btnElement, text) {
            try {
                await navigator.clipboard.writeText(text);
                
                // ãƒœã‚¿ãƒ³ã®è¦‹ãŸç›®ã‚’ä¸€æ™‚çš„ã«å¤‰æ›´
                const originalContent = btnElement.innerHTML;
                btnElement.classList.remove('bg-secondary', 'text-primary');
                btnElement.classList.add('bg-green-100', 'text-green-700');
                btnElement.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                    å®Œäº†!
                `;

                setTimeout(() => {
                    btnElement.innerHTML = originalContent;
                    btnElement.classList.add('bg-secondary', 'text-primary');
                    btnElement.classList.remove('bg-green-100', 'text-green-700');
                }, 2000);

            } catch (err) {
                alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ');
                console.error(err);
            }
        }

        // ã™ã¹ã¦ã‚³ãƒ”ãƒ¼
        async function copyAll() {
            const text = inputText.value;
            if (!text) return;
            
            const limit = parseInt(splitLimit.value) || 140;
            const chunks = splitText(text, limit);
            const total = chunks.length;
            
            // å…¨æ–‡ã‚’çµåˆã—ã¦ã‚³ãƒ”ãƒ¼ï¼ˆå„ãƒ–ãƒ­ãƒƒã‚¯ã®é–“ã«æ”¹è¡Œã‚’å…¥ã‚Œã‚‹ï¼‰
            const allText = chunks.map((c, i) => `${c}\n\n(${i + 1}/${total})`).join('\n\n---\n\n');
            
            try {
                await navigator.clipboard.writeText(allText);
                alert('åˆ†å‰²ã•ã‚ŒãŸã™ã¹ã¦ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
            } catch (err) {
                alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ');
            }
        }

        // ãƒ•ã‚©ãƒ³ãƒˆå¤‰æ›ãƒãƒƒãƒ—ã¨ãƒ­ã‚¸ãƒƒã‚¯
        const fontMaps = {
            sansBold: {
                A: "ğ€", B: "ğ", C: "ğ‚", D: "ğƒ", E: "ğ„", F: "ğ…", G: "ğ†", H: "ğ‡", I: "ğˆ", J: "ğ‰", K: "ğŠ", L: "ğ‹", M: "ğŒ", N: "ğ", O: "ğ", P: "ğ", Q: "ğ", R: "ğ‘", S: "ğ’", T: "ğ“", U: "ğ”", V: "ğ•", W: "ğ–", X: "ğ—", Y: "ğ˜", Z: "ğ™",
                a: "ğš", b: "ğ›", c: "ğœ", d: "ğ", e: "ğ", f: "ğŸ", g: "ğ ", h: "ğ¡", i: "ğ¢", j: "ğ£", k: "ğ¤", l: "ğ¥", m: "ğ¦", n: "ğ§", o: "ğ¨", p: "ğ©", q: "ğª", r: "ğ«", s: "ğ¬", t: "ğ­", u: "ğ®", v: "ğ¯", w: "ğ°", x: "ğ±", y: "ğ²", z: "ğ³",
                0: "ğŸ", 1: "ğŸ", 2: "ğŸ", 3: "ğŸ‘", 4: "ğŸ’", 5: "ğŸ“", 6: "ğŸ”", 7: "ğŸ•", 8: "ğŸ–", 9: "ğŸ—"
            },
            serifBold: {
                A: "ğ€", B: "ğ", C: "ğ‚", D: "ğƒ", E: "ğ„", F: "ğ…", G: "ğ†", H: "ğ‡", I: "ğˆ", J: "ğ‰", K: "ğŠ", L: "ğ‹", M: "ğŒ", N: "ğ", O: "ğ", P: "ğ", Q: "ğ", R: "ğ‘", S: "ğ’", T: "ğ“", U: "ğ”", V: "ğ•", W: "ğ–", X: "ğ—", Y: "ğ˜", Z: "ğ™",
                a: "ğš", b: "ğ›", c: "ğœ", d: "ğ", e: "ğ", f: "ğŸ", g: "ğ ", h: "ğ¡", i: "ğ¢", j: "ğ£", k: "ğ¤", l: "ğ¥", m: "ğ¦", n: "ğ§", o: "ğ¨", p: "ğ©", q: "ğª", r: "ğ«", s: "ğ¬", t: "ğ­", u: "ğ®", v: "ğ¯", w: "ğ°", x: "ğ±", y: "ğ²", z: "ğ³",
                0: "ğŸ", 1: "ğŸ", 2: "ğŸ", 3: "ğŸ‘", 4: "ğŸ’", 5: "ğŸ“", 6: "ğŸ”", 7: "ğŸ•", 8: "ğŸ–", 9: "ğŸ—"
            },
            italic: {
                A: "ğ´", B: "ğµ", C: "ğ¶", D: "ğ·", E: "ğ¸", F: "ğ¹", G: "ğº", H: "ğ»", I: "ğ¼", J: "ğ½", K: "ğ¾", L: "ğ¿", M: "ğ‘€", N: "ğ‘", O: "ğ‘‚", P: "ğ‘ƒ", Q: "ğ‘„", R: "ğ‘…", S: "ğ‘†", T: "ğ‘‡", U: "ğ‘ˆ", V: "ğ‘‰", W: "ğ‘Š", X: "ğ‘‹", Y: "ğ‘Œ", Z: "ğ‘",
                a: "ğ‘", b: "ğ‘", c: "ğ‘", d: "ğ‘‘", e: "ğ‘’", f: "ğ‘“", g: "ğ‘”", h: "â„", i: "ğ‘–", j: "ğ‘—", k: "ğ‘˜", l: "ğ‘™", m: "ğ‘š", n: "ğ‘›", o: "ğ‘œ", p: "ğ‘", q: "ğ‘", r: "ğ‘Ÿ", s: "ğ‘ ", t: "ğ‘¡", u: "ğ‘¢", v: "ğ‘£", w: "ğ‘¤", x: "ğ‘¥", y: "ğ‘¦", z: "ğ‘§"
            },
            script: {
                A: "ğ’œ", B: "â„¬", C: "ğ’", D: "ğ’Ÿ", E: "â„°", F: "â„±", G: "ğ’¢", H: "â„‹", I: "â„", J: "ğ’¥", K: "ğ’¦", L: "â„’", M: "â„³", N: "ğ’©", O: "ğ’ª", P: "ğ’«", Q: "ğ’¬", R: "â„›", S: "ğ’®", T: "ğ’¯", U: "ğ’°", V: "ğ’±", W: "ğ’²", X: "ğ’³", Y: "ğ’´", Z: "ğ’µ",
                a: "ğ’¶", b: "ğ’·", c: "ğ’¸", d: "ğ’¹", e: "â„¯", f: "ğ’»", g: "â„Š", h: "ğ’½", i: "ğ’¾", j: "ğ’¿", k: "ğ“€", l: "ğ“", m: "ğ“‚", n: "ğ“ƒ", o: "â„´", p: "ğ“…", q: "ğ“†", r: "ğ“‡", s: "ğ“ˆ", t: "ğ“‰", u: "ğ“Š", v: "ğ“‹", w: "ğ“Œ", x: "ğ“", y: "ğ“", z: "ğ“"
            },
            typewriter: {
                A: "ğ™°", B: "ğ™±", C: "ğ™²", D: "ğ™³", E: "ğ™´", F: "ğ™µ", G: "ğ™¶", H: "ğ™·", I: "ğ™¸", J: "ğ™¹", K: "ğ™º", L: "ğ™»", M: "ğ™¼", N: "ğ™½", O: "ğ™¾", P: "ğ™¿", Q: "ğš€", R: "ğš", S: "ğš‚", T: "ğšƒ", U: "ğš„", V: "ğš…", W: "ğš†", X: "ğš‡", Y: "ğšˆ", Z: "ğš‰",
                a: "ğšŠ", b: "ğš‹", c: "ğšŒ", d: "ğš", e: "ğš", f: "ğš", g: "ğš", h: "ğš‘", i: "ğš’", j: "ğš“", k: "ğš”", l: "ğš•", m: "ğš–", n: "ğš—", o: "ğš˜", p: "ğš™", q: "ğšš", r: "ğš›", s: "ğšœ", t: "ğš", u: "ğš", v: "ğšŸ", w: "ğš ", x: "ğš¡", y: "ğš¢", z: "ğš£",
                0: "ğŸ¶", 1: "ğŸ·", 2: "ğŸ¸", 3: "ğŸ¹", 4: "ğŸº", 5: "ğŸ»", 6: "ğŸ¼", 7: "ğŸ½", 8: "ğŸ¾", 9: "ğŸ¿"
            }
        };

        // ãƒ•ã‚©ãƒ³ãƒˆé©ç”¨é–¢æ•°
        function applyFont(type) {
            const text = inputText.value;
            if (!text) return;
            
            // åˆå›é©ç”¨æ™‚ã«åŸæ–‡ã‚’ä¿å­˜ï¼ˆãƒªã‚»ãƒƒãƒˆç”¨ï¼‰
            // ãŸã ã—ã€æ—¢ã«å¤‰æ›æ¸ˆã¿ã®æ–‡å­—ãŒå«ã¾ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€
            // ã“ã“ã§ã¯ç°¡æ˜“çš„ã«ç¾åœ¨ã®å€¤ã‚’å¤‰æ›ã™ã‚‹ä»•æ§˜ã¨ã—ã¾ã™ã€‚
            
            const map = fontMaps[type];
            if (!map) return;

            // è‹±æ•°å­—ã®ã¿ç½®æ›
            const newText = text.split('').map(char => map[char] || char).join('');
            inputText.value = newText;
            updateUI(); // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°
        }

        // ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ï¼ˆå®Œå…¨ãªåŸæ–‡å¾©å¸°ã¯å±¥æ­´ç®¡ç†ãŒå¿…è¦ã ãŒã€ã“ã“ã§ã¯ç°¡æ˜“çš„ã«è‹±æ•°å­—ã‚’æ¨™æº–ã«æˆ»ã™å‡¦ç†ï¼‰
        // â€» å³å¯†ãªåŸæ–‡å¾©å…ƒãŒé›£ã—ã„ï¼ˆè£…é£¾æ–‡å­—ã‹ã‚‰æˆ»ã™ãƒãƒƒãƒ—ãŒå¿…è¦ï¼‰ãŸã‚ã€
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã¨ã—ã¦ã¯ã€Œç›´å‰ã®å…¥åŠ›ã‚’ã‚¯ãƒªã‚¢ã€ã‹ã€Œè£…é£¾æ–‡å­—ã‚’é€šå¸¸æ–‡å­—ã«æˆ»ã™é€†å¤‰æ›ã€ãŒè‰¯ã„ã€‚
        // ã“ã“ã§ã¯ã€Œè£…é£¾æ–‡å­—â†’é€šå¸¸æ–‡å­—ã€ã®é€†å¤‰æ›ã‚’å®Ÿè£…ã—ã¦ãƒªã‚»ãƒƒãƒˆã¨ã—ã¾ã™ã€‚
        function resetFont() {
            let text = inputText.value;
            
            // å…¨ã¦ã®ãƒ•ã‚©ãƒ³ãƒˆãƒãƒƒãƒ—ã‚’èµ°æŸ»ã—ã¦é€†å¤‰æ›ãƒãƒƒãƒ—ã‚’ä½œæˆ
            const reverseMap = {};
            Object.values(fontMaps).forEach(map => {
                for (const [key, val] of Object.entries(map)) {
                    reverseMap[val] = key;
                }
            });

            const newText = text.split('').map(char => reverseMap[char] || char).join('');
            inputText.value = newText;
            updateUI();
        }

        // HTMLã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ï¼ˆXSSå¯¾ç­–ï¼‰
        function escapeHtml(unsafe) {
            return unsafe
                 .replace(/&/g, "&amp;")
                 .replace(/</g, "&lt;")
                 .replace(/>/g, "&gt;")
                 .replace(/"/g, "&quot;")
                 .replace(/'/g, "&#039;");
        }

        // JSæ–‡å­—åˆ—ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ï¼ˆonclickå†…ã§ã®ã‚¨ãƒ©ãƒ¼å›é¿ï¼‰
        function escapeJsString(str) {
            return str.replace(/\\/g, '\\\\')
                      .replace(/'/g, "\\'")
                      .replace(/"/g, '\\"')
                      .replace(/\n/g, '\\n')
                      .replace(/\r/g, '\\r');
        }

    </script>
</body>
</html>